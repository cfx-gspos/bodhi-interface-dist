(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{10795:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/space",function(){return s(50187)}])},50187:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return D}});var t=s(85893),r=s(61730),i=s(5616),l=s(67294),a=s(67952),c=s(61115),o=s(31065),d=s(90629),x=s(15861),u=s(98456),h=s(69417),p=s(11163),f=s(97975),j=s(59242),m=s(92900),v=s(49479),y=s(35330),g=s(26384);let Z=e=>{let{...n}=e;return(0,t.jsx)(g.G,{...n,children:(0,t.jsx)(t.Fragment,{children:"When people upvote/downvote contents, space will get a fee, which belongs to all holders of this space."})})},w=e=>{let{...n}=e;return(0,t.jsx)(g.G,{...n,children:(0,t.jsx)(t.Fragment,{children:"Buy shares of a space to join it and share its revenue."})})};var I=s(36444);function b(){let e=(0,r.Z)("(max-width:980px)"),n=(0,p.useRouter)(),{currentTimestamp:s}=(0,o.Yh)(),[a,c]=(0,l.useState)([]),[f,v]=(0,l.useState)(0),g=(0,l.useMemo)(()=>new Set,[]),{userArray:I,loading:b,error:D,refetch:F}=(0,j.oX)(f,50);return(0,l.useEffect)(()=>{F()},[s,F]),(0,l.useEffect)(()=>{if(I){let e=I.filter(e=>!g.has(e.id));e.forEach(e=>g.add(e.id)),c(n=>[...n,...e])}},[I]),(0,t.jsxs)(i.Z,{children:[e?(0,t.jsx)(t.Fragment,{children:null==a?void 0:a.map((e,s)=>(0,t.jsx)(d.Z,{sx:e=>({padding:"12px",background:"#312f5c",mb:3}),children:(0,t.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column"},component:"div",onClick:()=>{n.push("/space-overview/?address=".concat(e.user))},children:[(0,t.jsx)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,t.jsx)(m.M,{sender:e.user,spaceUserInfo:e,imgWidth:36,showSpaceId:!1,MoreBox:(0,t.jsxs)(x.Z,{variant:"main16",color:"text.secondary",sx:{mr:2},children:["#",null==e?void 0:e.spaceId]})})}),(0,t.jsx)(i.Z,{children:(0,t.jsx)(C,{userInfo:e})})]},s)},s))}):(0,t.jsxs)(d.Z,{sx:e=>({background:"#312f5c"}),children:[(0,t.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,mt:4,padding:"12px",cursor:"pointer","&:hover":{backgroundColor:"#3e3c76"}},children:[(0,t.jsx)(i.Z,{children:" "}),(0,t.jsx)(i.Z,{children:(0,t.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",gap:6},children:[(0,t.jsxs)(i.Z,{sx:{width:"90px",display:"flex",alignItems:"center",gap:"2px"},children:[(0,t.jsx)(x.Z,{variant:"secondary16",color:"text.secondary",children:"REVENUE"}),(0,t.jsx)(Z,{})]}),(0,t.jsxs)(i.Z,{sx:{width:"140px",display:"flex",alignItems:"center",gap:"2px"},children:[(0,t.jsx)(x.Z,{variant:"secondary16",color:"text.secondary",children:"SHARE PRICE"}),(0,t.jsx)(w,{})]})]})})]}),null==a?void 0:a.map((e,s)=>(0,t.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,mt:4,padding:"12px 8px",cursor:"pointer","&:hover":{backgroundColor:"#3e3c76"}},component:"div",onClick:()=>{n.push("/space-overview/?address=".concat(e.user))},children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(m.M,{sender:e.user,spaceUserInfo:e,imgWidth:36,showSpaceId:!0})}),(0,t.jsx)(i.Z,{children:(0,t.jsx)(S,{userInfo:e})})]},s))]}),b?(0,t.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,t.jsx)(u.Z,{color:"inherit",size:32})}):(0,t.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",mt:4},children:I&&50==I.length?(0,t.jsx)(h.Z,{onClick:()=>{v(e=>e+1),F()},endIcon:(0,t.jsx)(y.Z,{className:"icon-animation"}),children:"Load More"}):(0,t.jsx)(x.Z,{variant:"secondary16",color:"text.secondary",children:"No more."})})]})}function S(e){var n,s,r,l,a,c,d;let{userInfo:x}=e,{ethPrice:u}=(0,o.Yh)(),h=(0,f.r2)([{assetId:x.descriptionAssetId?Number(x.descriptionAssetId):-1,totalSupply:null!==(l=null===(n=x.spaceAsset)||void 0===n?void 0:n.totalSupply)&&void 0!==l?l:0}]);return(0,t.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",gap:6},children:[(0,t.jsx)(i.Z,{sx:{width:"90px"},children:(0,t.jsx)(v.B,{value:(null!==(c=null===(s=x.spaceAsset)||void 0===s?void 0:s.totalFees)&&void 0!==c?c:0)*(null!=u?u:0),variant:"main16",compact:!0,visibleDecimals:2,symbol:"USD"})}),(0,t.jsx)(i.Z,{sx:{width:"140px"},children:(0,t.jsx)(v.B,{value:Number(null!==(d=null===(r=h[0])||void 0===r?void 0:r.data)&&void 0!==d?d:0)*(null!=u?u:0),variant:"main16",compact:!0,visibleDecimals:2,symbol:"USD"})})]})}function C(e){var n,s,r,l,a,c,d;let{userInfo:x}=e,{ethPrice:u}=(0,o.Yh)(),h=(0,f.r2)([{assetId:x.descriptionAssetId?Number(x.descriptionAssetId):-1,totalSupply:null!==(l=null===(n=x.spaceAsset)||void 0===n?void 0:n.totalSupply)&&void 0!==l?l:0}]);return(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(I.X,{caption:(0,t.jsx)(t.Fragment,{children:"Revenue"}),align:"flex-start",captionVariant:"description",mt:2,children:(0,t.jsx)(v.B,{value:(null!==(c=null===(s=x.spaceAsset)||void 0===s?void 0:s.totalFees)&&void 0!==c?c:0)*(null!=u?u:0),variant:"main16",compact:!0,visibleDecimals:2,symbol:"USD"})}),(0,t.jsx)(I.X,{caption:(0,t.jsx)(t.Fragment,{children:"Share Price"}),align:"flex-start",captionVariant:"description",mt:2,children:(0,t.jsx)(v.B,{value:Number(null!==(d=null===(r=h[0])||void 0===r?void 0:r.data)&&void 0!==d?d:0)*(null!=u?u:0),variant:"main16",compact:!0,visibleDecimals:2,symbol:"USD"})})]})}function D(){let e=(0,r.Z)("(max-width:980px)");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a.Z,{children:(0,t.jsxs)(i.Z,{sx:{display:"flex",flex:1,flexDirection:"column",gap:4},children:[e?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(c.d,{}),(0,t.jsx)(b,{})]})})})}},92900:function(e,n,s){"use strict";s.d(n,{M:function(){return c}});var t=s(85893),r=s(47726),i=s(5616),l=s(15861),a=s(87952);s(67294);let c=e=>{let{sender:n,blockTimestamp:s,spaceUserInfo:c,imgWidth:o,showSpaceId:d,handleClick:x,MoreBox:u}=e,{avatar:h,spacename:p}=(0,r.Dm)(n,c);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer"},component:"div",onClick:()=>{x&&x()},children:[d&&(0,t.jsxs)(l.Z,{variant:"main16",sx:{mr:2},children:["#",null==c?void 0:c.spaceId]}),(0,t.jsx)(a.Z,{sx:{width:o?"".concat(o,"px"):"36px",height:o?"".concat(o,"px"):"36px"},alt:p,src:h}),(0,t.jsxs)(i.Z,{sx:{ml:2},children:[(0,t.jsx)(l.Z,{variant:"main16",children:p}),(0,t.jsx)(l.Z,{variant:"secondary14",color:"text.secondary",children:(0,r.Xe)(n,4,4)})]})]}),(0,t.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",gap:3},children:[s&&(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{variant:"secondary14",color:"text.secondary",children:(0,r.i$)(s)})}),u&&(0,t.jsx)(i.Z,{children:u})]})]})}},61115:function(e,n,s){"use strict";s.d(n,{d:function(){return S}});var t=s(85893),r=s(5616),i=s(87952),l=s(69417),a=s(75058),c=s(67294),o=s(42761),d=s(2734),x=s(61730),u=s(93946),h=s(53219),p=s(70256),f=s(89396),j=s(11298),m=s(23279),v=s.n(m);let y=e=>{let{onSearchTermChange:n,wrapperSx:s,placeholder:i,disableFocus:l,showCancle:a,CancleChange:o}=e,h=(0,c.useRef)(null),[m,y]=(0,c.useState)(""),{breakpoints:g}=(0,d.Z)(),Z=(0,x.Z)(g.down("sm")),w=()=>{var e;y(""),n(""),null===(e=h.current)||void 0===e||e.focus(),o&&o()},I=(0,c.useMemo)(()=>v()(e=>{n(e)},300),[n]);return(0,t.jsxs)(r.Z,{sx:e=>({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px",...s}),children:[(0,t.jsx)(r.Z,{sx:{ml:2,mt:1},children:(0,t.jsx)(f.Z,{height:16})}),(0,t.jsx)(j.ZP,{autoFocus:Z,inputRef:h,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:i,value:m,onChange:e=>{y(e.target.value),I(e.target.value)},onKeyDown:e=>{l&&e.stopPropagation()}}),(0,t.jsx)(u.Z,{sx:{p:0,mr:2,visibility:m||a?"visible":"hidden"},onClick:()=>w(),children:(0,t.jsx)(p.Z,{height:16})})]})},g=e=>{let{onSearchTermChange:n,searchPlaceholder:s,titleProps:i,title:l}=e,[a,p]=(0,c.useState)(!1),{breakpoints:f}=(0,d.Z)();return(0,x.Z)(f.down("sm")),(0,t.jsxs)(r.Z,{sx:{},children:[!a&&(0,t.jsx)(u.Z,{onClick:()=>p(!0),sx:{padding:0},children:(0,t.jsx)(h.Z,{children:(0,t.jsx)(o.Z,{})})}),a&&(0,t.jsx)(r.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,t.jsx)(y,{wrapperSx:{width:{xs:"100%",sm:"280px"}},placeholder:s,onSearchTermChange:n,showCancle:!0,CancleChange:()=>{p(!1),n("")}})})]})};var Z=s(64032),w=s(31065),I=s(47726),b=s(46154);function S(){let[e,n]=(0,c.useState)(""),{setType:s}=(0,Z.a)(),{setWalletModalOpen:o,disconnectWallet:d,account:x,spaceUserInfo:u}=(0,w.Yh)(),{avatar:h,spacename:p}=(0,c.useMemo)(()=>(0,I.Dm)(x,u),[x,u]);async function f(){if(!x){o(!0);return}let e=(0,b.fO)(u);if(!e){s(Z.w.UserInfo);return}s(Z.w.BlogEditor)}return(0,t.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)(r.Z,{sx:{display:"flex",gap:4},children:[(0,t.jsx)(i.Z,{alt:"",src:h}),(0,t.jsx)(l.Z,{variant:"surface",size:"medium",startIcon:(0,t.jsx)(a.Z,{fontSize:"small"}),onClick:()=>{f()},children:"Create"})]}),(0,t.jsx)(g,{onSearchTermChange:n,title:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(t.Fragment,{children:"assets"})}),searchPlaceholder:"Search asset"})]})}},36444:function(e,n,s){"use strict";s.d(n,{X:function(){return l}});var t=s(85893),r=s(5616),i=s(15861);let l=e=>{let{caption:n,children:s,captionVariant:l="secondary16",captionColor:a,align:c="center",...o}=e;return(0,t.jsxs)(r.Z,{...o,sx:{display:"flex",alignItems:c,justifyContent:"space-between",...o.sx},children:[n&&(0,t.jsx)(i.Z,{component:"div",variant:l,color:a,sx:{mr:2},children:n}),s]})}},97975:function(e,n,s){"use strict";s.d(n,{TX:function(){return x},bo:function(){return u},c1:function(){return c},k:function(){return d},lv:function(){return a},r2:function(){return o}});var t=s(31065),r=s(46154),i=s(99673),l=s(88144);let a=e=>{let n=(0,t.Yh)(e=>e.fetchArweaveData),s=(0,i.h)({queries:e.map(e=>({queryKey:["arweaveData",e],queryFn:()=>n(e),refetchInterval:6e4}))});return s},c=e=>{let{data:n,error:s}=(0,l.a)({queryKey:["useGetTransactionInfo",e],queryFn:()=>(0,r.Q1)(e),refetchInterval:6e4});return s?void 0:n},o=e=>{let n=(0,t.Yh)(e=>e.getBuyPrice),s=(0,i.h)({queries:e.map(e=>({queryKey:["getBuyPrice",e.assetId,e.totalSupply],queryFn:()=>n(e.assetId,1,e.totalSupply),refetchInterval:6e4}))});return s},d=(e,n)=>{let s=(0,t.Yh)(e=>e.getBuyPrice),{data:r,error:i}=(0,l.a)({queryKey:["getBuyPrice",e,n],queryFn:()=>s(e,1,n),refetchInterval:6e4});return{data:r,error:i}},x=(e,n,s)=>{let r=(0,t.Yh)(e=>e.getSellPrice),{data:i,error:a}=(0,l.a)({queryKey:["getSellPrice",e,n,s],queryFn:()=>r(e,1,n),refetchInterval:6e4});return{data:i,error:a}},u=(e,n,s)=>{let r=(0,t.Yh)(e=>e.getBalanceByAccount_Asset),{data:i,error:a}=(0,l.a)({queryKey:["getBalanceByAccount_Asset",n,e,s],queryFn:()=>r(e,n),refetchInterval:6e4});return{data:i,error:a}}}},function(e){e.O(0,[240,266,87,930,170,144,306,219,952,774,888,179],function(){return e(e.s=10795)}),_N_E=e.O()}]);