(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{261:function(e,n,t){"use strict";var s=t(4836);n.Z=void 0;var r=s(t(4938)),a=t(5893);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M9 4H7v2H5v12h2v2h2v-2h2V6H9zm10 4h-2V4h-2v4h-2v7h2v5h2v-5h2z"}),"CandlestickChart")},2964:function(e,n,t){"use strict";var s=t(4836);n.Z=void 0;var r=s(t(4938)),a=t(5893);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline")},8878:function(e,n,t){"use strict";var s=t(4836);n.Z=void 0;var r=s(t(4938)),a=t(5893);n.Z=(0,r.default)((0,a.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PermIdentity")},8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3301)}])},3301:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var s=t(5893),r=t(1730),a=t(5616),i=t(7294),l=t(9766),d=t(2695),c=t(2729),o=t(629),u=t(1065),x=t(8806),v=t(6312),p=t(3124),h=t(2027),f=t(1163),m=t(8117),j=t(1266),y=t(2138),I=t(5751),g=t(7781),b=t(9573);function Z(){let e=(0,c._)(["\n  query GetAssets($assetIds: [Int!]) {\n    assets(where: { assetId_in: $assetIds }) {\n      assetId\n      totalSupply\n    }\n  }\n"]);return Z=function(){return e},e}let k=(0,x.Ps)(Z()),w=e=>{let{loading:n,error:t,data:s,refetch:r}=(0,v.a)(k,{variables:{assetIds:e}});return{loading:n,error:t,data:s,refetch:r}};function _(){let e=(0,c._)(['\n  query GetSenders {\n    creates(\n      where: { arTxId_not: "" }\n      orderDirection: desc\n      orderBy: blockTimestamp\n      first: 50\n    ) {\n      sender\n    }\n  }\n']);return _=function(){return e},e}function C(){let e=(0,c._)(['\n  query GetCreates($first: Int!, $skip: Int!, $senders: [String!]) {\n  creates(\n      skip: $skip\n      first: $first\n       where: { arTxId_not: "", sender_in: $senders }\n      orderDirection: desc\n      orderBy: blockTimestamp\n    ) {\n     id\n     assetId\n     arTxId\n     sender\n     blockTimestamp\n     transactionHash\n    }\n  }\n']);return C=function(){return e},e}let H=(0,x.Ps)(_()),S=(0,x.Ps)(C());function T(){var e,n,t,r,l;let d=(0,f.useRouter)(),{currentTimestamp:c}=(0,u.Yh)(),{setTempAssetModal:x}=(0,g.R)(),[Z,k]=(0,i.useState)(0),{loading:_,error:C,data:T,refetch:D}=(0,v.a)(H,{variables:{}}),$=(null==T?void 0:null===(e=T.creates)||void 0===e?void 0:e.map(e=>e.sender))||[],B=(0,I.kX)($),F=B?B.filter(e=>!e.isContract).map(e=>e.address):[],{loading:V,error:E,data:P,refetch:q}=(0,v.a)(S,{variables:{first:10,skip:10*Z,senders:F}}),N=(null==P?void 0:null===(n=P.creates)||void 0===n?void 0:n.map(e=>Number(e.assetId)))||[],{loading:A,error:M,data:G,refetch:R}=w(N);(0,i.useEffect)(()=>{D(),q(),R()},[c,q]);let X=(null==P?void 0:null===(t=P.creates)||void 0===t?void 0:t.map(e=>e.arTxId))||[],Y=(0,I.lv)(X),z=(null==P?void 0:null===(r=P.creates)||void 0===r?void 0:r.map(e=>e.sender))||[],O=(0,y.SV)(z);function U(e,n){var t,s,r;x({id:e.id,assetId:e.assetId,arTxId:e.arTxId,sender:e.sender,blockTimestamp:e.blockTimestamp,transactionHash:e.transactionHash,contentData:null===(t=Y[n])||void 0===t?void 0:t.data,spaceUserInfo:null===(s=O[n])||void 0===s?void 0:s.data,assetSupply:null!==(r=null==G?void 0:G.assets.find(n=>n.assetId==e.assetId).totalSupply)&&void 0!==r?r:0})}return(null==P||P.creates.length,V)?(0,s.jsx)("p",{children:"Loading..."}):E?(0,s.jsxs)("p",{children:["Error: ",E.message]}):(0,s.jsx)(s.Fragment,{children:Y.length>0&&(0,s.jsx)(s.Fragment,{children:null==P?void 0:P.creates.map((e,n)=>{var t,r,i,c,u,x;return(0,s.jsxs)(o.Z,{sx:e=>({padding:"12px",background:"#312f5c"}),children:[(0,s.jsx)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,s.jsx)(s.Fragment,{children:O&&O.length>0&&(0,s.jsx)(h.v,{blockTimestamp:e.blockTimestamp,sender:e.sender,spaceUserInfo:null===(t=O[n])||void 0===t?void 0:t.data,handleClick:()=>{d.push("/space-overview/?address=".concat(e.sender))}})})}),(0,s.jsx)(a.Z,{sx:{mt:3,color:"#d7e2e3"},component:"div",onClick:()=>{U(e,n),d.push("/asset-overview/?assetid=".concat(e.assetId))},children:(0,s.jsx)(s.Fragment,{children:(null===(r=Y[n])||void 0===r?void 0:r.data)&&(0,s.jsx)(p.Z,{content:null===(i=Y[n])||void 0===i?void 0:i.data})})}),(0,s.jsxs)(a.Z,{sx:{mt:3,pt:1,borderTop:"1px solid #434b59",display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(b.j,{assetId:e.assetId,spaceAddress:null===(x=O[n])||void 0===x?void 0:null===(u=x.data)||void 0===u?void 0:null===(c=u.spaceAddress)||void 0===c?void 0:c.toString(),handleClick:()=>{U(e,n),d.push("/asset-overview/?assetid=".concat(e.assetId,"&reply=1"))}})}),(0,s.jsxs)(a.Z,{sx:{display:"flex",gap:4},children:[!M&&G?(0,s.jsx)(m.H,{assetId:e.assetId,totalSupply:null!==(l=G.assets.find(n=>n.assetId==e.assetId).totalSupply)&&void 0!==l?l:0,handleClick:()=>{U(e,n)}}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(j.p,{assetId:e.assetId,handleClick:()=>{U(e,n)}})]})]})]},n)})})})}function D(){return(0,r.Z)("(max-width:980px)"),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flex:1,flexDirection:"column",gap:4},children:[(0,s.jsx)(d.d,{}),(0,s.jsx)(T,{})]})})})}},8117:function(e,n,t){"use strict";t.d(n,{H:function(){return x}});var s=t(5893),r=t(5616),a=t(9417),i=t(5861),l=t(9479),d=t(261),c=t(8144),o=t(1065),u=t(4032);let x=e=>{let{totalSupply:n,assetId:t,handleClick:x,showUnit:v}=e,{setType:p}=(0,u.a)(),{account:h,getBuyPrice:f,ethPrice:m,setWalletModalOpen:j}=(0,o.Yh)(),{data:y,error:I}=(0,c.a)({queryKey:["getBuyPrice",t,n],queryFn:()=>f(t,1,n),refetchInterval:6e4});async function g(){h?(p(u.w.AssetBuy),x&&x()):j(!0)}return(0,s.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.Z,{variant:"text",startIcon:(0,s.jsx)(d.Z,{}),sx:{padding:"2px 0px",minWidth:"20px"},onClick:()=>{g()},children:(0,s.jsx)(l.B,{value:!I&&y?y*(null!=m?m:0):0,symbol:"USD",variant:"secondary16",symbolsVariant:"secondary16",visibleDecimals:3})}),v&&(0,s.jsx)(i.Z,{color:"text.secondary",sx:{ml:4},children:(0,s.jsx)(l.B,{value:null!=y?y:0,variant:"secondary14",compact:!0,visibleDecimals:3,symbol:"CFX/Share"})})]})}},1266:function(e,n,t){"use strict";t.d(n,{p:function(){return h}});var s=t(2729),r=t(5893),a=t(9417),i=t(9479),l=t(8878),d=t(8806),c=t(6312),o=t(1163),u=t(1065),x=t(7294);function v(){let e=(0,s._)(["\n  query GetHolders($id: Int!) {\n     assets(where: {id: $id}) { \n       totalHolders\n    }\n  }\n"]);return v=function(){return e},e}let p=(0,d.Ps)(v()),h=e=>{let{assetId:n,handleClick:t}=e,s=(0,o.useRouter)(),{currentTimestamp:d}=(0,u.Yh)(),{loading:v,error:h,data:f,refetch:m}=(0,c.a)(p,{variables:{id:parseInt(n.toString())}});(0,x.useEffect)(()=>{m()},[d,m]);let j=v||h?0:f.assets[0].totalHolders;return(0,r.jsx)(a.Z,{variant:"text",startIcon:(0,r.jsx)(l.Z,{}),sx:{padding:"2px 6px",minWidth:"20px"},onClick:()=>{t&&t(),s.push("/asset-overview/?assetid=".concat(n))},children:(0,r.jsx)(i.B,{value:j,variant:"secondary16",symbolsVariant:"secondary16",visibleDecimals:0})})}},9573:function(e,n,t){"use strict";t.d(n,{j:function(){return o}});var s=t(5893),r=t(9417),a=t(9479),i=t(1065),l=t(2138),d=t(2964),c=t(2292);let o=e=>{let{assetId:n,spaceAddress:t,handleClick:o}=e,{account:u,setWalletModalOpen:x}=(0,i.Yh)(),{data:v,error:p}=(0,l.So)(null!=t?t:c._,n),h=!p&&v?v.length:0;async function f(){u?o&&o():x(!0)}return(0,s.jsx)(r.Z,{variant:"text",startIcon:(0,s.jsx)(d.Z,{}),sx:{padding:"2px 6px",minWidth:"20px"},onClick:()=>{f()},children:(0,s.jsx)(a.B,{value:h,variant:"secondary16",symbolsVariant:"secondary16",visibleDecimals:0})})}},3124:function(e,n,t){"use strict";var s=t(5893);t(7294);var r=t(5616);n.Z=e=>{let{content:n}=e,t=function(e){if(!e)return"";let n=e.replace(/<[^>]*>?/gm,""),t=n.slice(0,140);return t.length<n.length?t+"...":t}(n),a=function(e){if(!e)return null;let n=/<img[^>]+src=['"]([^'"]+)['"][^>]*>/g.exec(e);if(n){let e=n[1];return(0,s.jsx)("img",{src:e,alt:"Arweave Image",width:"100%",style:{maxHeight:"80px",borderRadius:"4px"}})}return null}(n);return(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",gap:3,alignItems:"center"},children:[(0,s.jsx)(r.Z,{sx:{flex:"1 1 auto"},children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t},style:{lineHeight:"24px",letterSpacing:"0.05em",cursor:"pointer"}})}),a&&(0,s.jsx)(r.Z,{sx:{width:"120px",flex:"0 0 auto"},children:a})]})})}}},function(e){e.O(0,[498,986,395,298,766,129,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);