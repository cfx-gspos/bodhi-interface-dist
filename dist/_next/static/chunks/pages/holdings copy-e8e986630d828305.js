(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{62918:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/holdings copy",function(){return s(15867)}])},15867:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(82729),n=s(85893),i=s(67294),a=s(67952),o=s(5616),l=s(15861),u=s(49479),c=s(31065),d=s(54741),h=s(42292),y=s(59242),f=s(68806),m=s(76312),p=s(97975);function x(){let e=(0,r._)(["\nquery GetUserAssets($first: Int!, $skip: Int!, $address: String!) {\n   userAssets(\n    where: {user_: {address: $address}}\n    orderBy: assetId\n    orderDirection: desc\n    skip: $skip\n    first: $first\n  ) {\n    assetId\n    amount\n    user {\n      address\n    }\n    asset {\n      totalSupply\n      totalTrades \n      totalFees\n      totalHolders\n      creator {\n        address\n        isContract\n      }\n    }\n  }\n}\n"]);return x=function(){return e},e}let b=(0,f.Ps)(x());function v(){var e,t;let{account:s,ethPrice:r}=(0,c.Yh)(),{userInfo:f,error:x,refetch:v}=(0,y.Jh)(null!=s?s:h._),[g,j]=(0,i.useState)(0),{loading:C,error:w,data:q,refetch:O}=(0,m.a)(b,{variables:{first:100,skip:100*g,address:null!=s?s:h._}}),S=!w&&q?q.userAssets.map(e=>({assetId:e.assetId,amount:e.amount,userAddress:e.user.address,totalSupply:e.asset.totalSupply,totalTrades:e.asset.totalTrades,totalFees:e.asset.totalFees,totalHolders:e.asset.totalHolders,creatorAddress:e.asset.creator.address,isContract:e.asset.creator.isContract})).filter(e=>!1==e.isContract):void 0,R=(0,p.r2)(null!=S?S:[]),D=S?S.map((t,s)=>{var r;return{...t,amountETH:null!==(e=null===(r=R[s])||void 0===r?void 0:r.data)&&void 0!==e?e:0}}):[];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{children:(0,n.jsxs)(o.Z,{sx:{display:"flex",flex:1,flexDirection:"column",gap:4},children:[(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsxs)(l.Z,{variant:"secondary16",color:"text.secondary",children:["Total: ",null==f?void 0:f.totalAssets," Assets"]}),(0,n.jsx)(o.Z,{sx:{mt:2},children:(0,n.jsx)(u.B,{value:Number(null==f?void 0:f.totalTradValue)*(null!=r?r:0),variant:"main21",symbolsVariant:"main21",color:"text.primary",symbolsColor:"text.primary",visibleDecimals:4,symbol:"USD"})}),(0,n.jsx)(o.Z,{sx:{mb:2},children:(0,n.jsx)(u.B,{value:null!==(t=null==f?void 0:f.totalTradValue)&&void 0!==t?t:0,variant:"secondary16",symbolsVariant:"secondary16",color:"text.secondary",symbolsColor:"text.secondary",visibleDecimals:4,symbol:"CFX"})}),(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"row",gap:1},children:[(0,n.jsx)(l.Z,{variant:"secondary16",color:"text.primary",children:"Creator Fee Received:"}),(0,n.jsx)(u.B,{value:Number(null==f?void 0:f.totalFees)*(null!=r?r:0),variant:"secondary16",symbolsVariant:"secondary16",color:"text.primary",symbolsColor:"text.primary",visibleDecimals:4,symbol:"USD"})]})]}),C?(0,n.jsx)("p",{children:"Loading..."}):(0,n.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:D.map((e,t)=>(0,n.jsx)(d.Y,{item:e,ethPrice:r},t))})]})})})}},54741:function(e,t,s){"use strict";s.d(t,{Y:function(){return l}});var r=s(85893),n=s(5616),i=s(15861),a=s(11163),o=s(49479);let l=e=>{let{item:t,ethPrice:s}=e,l=(0,a.useRouter)();return(0,r.jsxs)(n.Z,{sx:{backgroundColor:"#312f5c",mt:3,borderRadius:2,padding:"10px",display:"flex",flexDirection:"row",alignItems:"center",gap:4,cursor:"pointer","&:hover":{backgroundColor:"#38366a"}},component:"div",onClick:()=>{l.push("/asset-overview/?assetid=".concat(t.assetId))},children:[(0,r.jsxs)(n.Z,{sx:{backgroundColor:"#75cedb",minWidth:"90px",minHeight:"90px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:1,borderRadius:"4px"},children:[(0,r.jsxs)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",focusable:"false",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}),(0,r.jsx)("path",{d:"M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})]}),(0,r.jsx)("span",{children:"Txt"})]}),(0,r.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column",gap:1,flex:1},children:[(0,r.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,r.jsxs)(i.Z,{variant:"secondary16",color:"text.secondary",children:["#",t.assetId]}),t.userAddress===t.creatorAddress&&(0,r.jsx)(i.Z,{variant:"secondary16",color:"#36df66",children:"owner"})]}),(0,r.jsxs)(i.Z,{variant:"secondary16",color:"text.secondary",children:[(0,r.jsx)(o.B,{value:t.amount,variant:"secondary16",symbolsVariant:"secondary16",color:"text.secondary",symbolsColor:"text.secondary",visibleDecimals:2,symbol:"Shares"})," ","( â‰ˆ ",(0,r.jsx)(o.B,{value:Number(t.amount)*Number(t.amountETH),variant:"secondary16",symbolsVariant:"secondary16",color:"text.secondary",symbolsColor:"text.secondary",visibleDecimals:4,symbol:"CFX"}),")"]}),(0,r.jsx)(i.Z,{sx:{mt:0},children:(0,r.jsx)(o.B,{value:Number(t.amount)*Number(t.amountETH)*(null!=s?s:0),variant:"main21",symbolsVariant:"main21",color:"text.primary",symbolsColor:"text.primary",visibleDecimals:4,symbol:"USD"})})]})]})}},97975:function(e,t,s){"use strict";s.d(t,{TX:function(){return d},bo:function(){return h},c1:function(){return l},k:function(){return c},lv:function(){return o},r2:function(){return u}});var r=s(31065),n=s(46154),i=s(99673),a=s(88144);let o=e=>{let t=(0,r.Yh)(e=>e.fetchArweaveData),s=(0,i.h)({queries:e.map(e=>({queryKey:["arweaveData",e],queryFn:()=>t(e),refetchInterval:6e4}))});return s},l=e=>{let{data:t,error:s}=(0,a.a)({queryKey:["useGetTransactionInfo",e],queryFn:()=>(0,n.Q1)(e),refetchInterval:6e4});return s?void 0:t},u=e=>{let t=(0,r.Yh)(e=>e.getBuyPrice),s=(0,i.h)({queries:e.map(e=>({queryKey:["getBuyPrice",e.assetId,e.totalSupply],queryFn:()=>t(e.assetId,1,e.totalSupply),refetchInterval:6e4}))});return s},c=(e,t)=>{let s=(0,r.Yh)(e=>e.getBuyPrice),{data:n,error:i}=(0,a.a)({queryKey:["getBuyPrice",e,t],queryFn:()=>s(e,1,t),refetchInterval:6e4});return{data:n,error:i}},d=(e,t,s)=>{let n=(0,r.Yh)(e=>e.getSellPrice),{data:i,error:o}=(0,a.a)({queryKey:["getSellPrice",e,t,s],queryFn:()=>n(e,1,t),refetchInterval:6e4});return{data:i,error:o}},h=(e,t,s)=>{let n=(0,r.Yh)(e=>e.getBalanceByAccount_Asset),{data:i,error:o}=(0,a.a)({queryKey:["getBalanceByAccount_Asset",t,e,s],queryFn:()=>n(e,t),refetchInterval:6e4});return{data:i,error:o}}},99673:function(e,t,s){"use strict";s.d(t,{h:function(){return m}});var r=s(67294),n=s(27037),i=s(72536),a=s(7506),o=s(24139);function l(e,t){return e.filter(e=>!t.includes(e))}var u=class extends a.l{#e;#t;#s;#r;#n;#i;#a;constructor(e,t,s){super(),this.#e=e,this.#s=[],this.#r=[],this.#t=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#r.forEach(e=>{e.subscribe(t=>{this.#o(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,t,s){this.#s=e,n.V.batch(()=>{let e=this.#r,t=this.#l(this.#s);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,s));let r=t.map(e=>e.observer),n=r.map(e=>e.getCurrentResult()),i=r.some((t,s)=>t!==e[s]);(e.length!==r.length||i)&&(this.#r=r,this.#t=n,this.hasListeners()&&(l(e,r).forEach(e=>{e.destroy()}),l(r,e).forEach(e=>{e.subscribe(t=>{this.#o(e,t)})}),this.#u()))})}getCurrentResult(){return this.#t}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,t){let s=this.#l(e),r=s.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[r,e=>this.#c(e??r,t),()=>s.map((e,t)=>{let n=r[t];return e.defaultedQueryOptions.notifyOnChangeProps?n:e.observer.trackResult(n,e=>{s.forEach(t=>{t.observer.trackProp(e)})})})]}#c(e,t){return t?(this.#n&&this.#t===this.#a&&t===this.#i||(this.#i=t,this.#a=this.#t,this.#n=(0,o.Q$)(this.#n,t(e))),this.#n):e}#l(e){let t=this.#r,s=new Map(t.map(e=>[e.options.queryHash,e])),r=e.map(e=>this.#e.defaultQueryOptions(e)),n=r.flatMap(e=>{let t=s.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]}),a=new Set(n.map(e=>e.defaultedQueryOptions.queryHash)),o=r.filter(e=>!a.has(e.queryHash)),l=e=>{let t=this.#e.defaultQueryOptions(e),s=this.#r.find(e=>e.options.queryHash===t.queryHash);return s??new i.z(this.#e,t)},u=o.map(e=>({defaultedQueryOptions:e,observer:l(e)}));return n.concat(u).sort((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions))}#o(e,t){let s=this.#r.indexOf(e);-1!==s&&(this.#t=function(e,t,s){let r=e.slice(0);return r[t]=s,r}(this.#t,s,t),this.#u())}#u(){n.V.batch(()=>{this.listeners.forEach(e=>{e(this.#t)})})}},c=s(30202),d=s(2762),h=s(37323),y=s(9160),f=s(44590);function m({queries:e,...t},s){let a=(0,c.NL)(s),o=(0,d.S)(),l=(0,h._)(),m=r.useMemo(()=>e.map(e=>{let t=a.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}),[e,a,o]);m.forEach(e=>{(0,f.Fb)(e),(0,y.pf)(e,l)}),(0,y.JN)(l);let[p]=r.useState(()=>new u(a,m,t)),[x,b,v]=p.getOptimisticResult(m,t.combine);r.useSyncExternalStore(r.useCallback(e=>o?()=>void 0:p.subscribe(n.V.batchCalls(e)),[p,o]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),r.useEffect(()=>{p.setQueries(m,t,{listeners:!1})},[m,t,p]);let g=x.some((e,t)=>(0,f.SB)(m[t],e)),j=g?x.flatMap((e,t)=>{let s=m[t];if(s){let t=new i.z(a,s);if((0,f.SB)(s,e))return(0,f.j8)(s,t,l);(0,f.Z$)(e,o)&&(0,f.j8)(s,t,l)}return[]}):[];if(j.length>0)throw Promise.all(j);let C=x.find((e,t)=>{let s=m[t];return s&&(0,y.KJ)({result:e,errorResetBoundary:l,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash)})});if(C?.error)throw C.error;return b(v())}}},function(e){e.O(0,[240,266,87,930,170,144,952,774,888,179],function(){return e(e.s=62918)}),_N_E=e.O()}]);